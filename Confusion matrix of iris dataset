library(caTools)
set.seed(123)
split <- sample.split(iris$Species, SplitRatio = 0.8)
train_data <- subset(iris, split == TRUE)
test_data <- subset(iris, split == FALSE)
log_model <- glm(Species ~ Petal.Length + Petal.Width, data = train_data, family = "binomial")
test_data$predicted_prob <- predict(log_model, newdata = test_data, type = "response")
test_data$predicted_class <- ifelse(test_data$predicted_prob > 0.5, "versicolor", "non-versicolor")
conf_matrix <- table(test_data$Species, test_data$predicted_class)
print("Confusion Matrix:")
print(conf_matrix)
